<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport"
	      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Exercise 12a, 12b, 12c, 12d, 12e, 12f</title>

</head>
<body>
	<div class="js-div">
		<button id="addToCart">Add to cart</button>
	</div>
	<script>
      // 12a
      /* const add = function(){
				console.log(2+3);
			} */

      //12b
      /* function runTwice(fun){
				fun();
				fun();
			}

			runTwice(function(){console.log("12b")});
			runTwice(function(){console.log(5)}); */

      // 12c, 12d
      /* const btn = document.querySelector("#textChange");
			btn.addEventListener("click", ()=>{
				setTimeout(()=>{
					btn.textContent = "Finished!"
				}, 1000);
				btn.textContent = "Loading...";
			}) */

      // 12e, 12f
      const addBtn = document.querySelector("#addToCart");
      let condition = false;
      let timerId;
      let messagePopup

      addBtn.addEventListener("click", ()=>{
          const container = document.querySelector(".js-div");

          if (!condition) {
              condition = true;
              messagePopup = document.createElement("p");
              messagePopup.textContent = "Added";
              container.appendChild(messagePopup);
          }

          if (timerId) {
              clearTimeout(timerId);
          }

          timerId = setTimeout(()=>{
              messagePopup.remove();
              condition = false;
              timerId = null;
          }, 2000);
      })
	</script>
</body>
</html>